### ============================================================
### Player Groups API 테스트
### ============================================================
### 통합: 그룹 CRUD, 멤버 관리, 그룹 플레이리스트 할당
### ============================================================

@baseUrl = http://localhost:8000/api/v1
@token = PASTE_YOUR_ACCESS_TOKEN_HERE


### ============================================================
### 1. 플레이어 그룹 CRUD
### - GET /player-groups — 목록 조회
### - GET /player-groups/:seq — 상세 조회
### - POST /player-groups — 등록
### - PUT /player-groups/:seq — 수정
### - DELETE /player-groups/:seq — 삭제
### ============================================================

### 1-1. 플레이어 그룹 목록 조회
GET {{baseUrl}}/player-groups?page=1&limit=20
Authorization: Bearer {{token}}

### 1-2. 플레이어 그룹 목록 조회 (건물 필터)
GET {{baseUrl}}/player-groups?building_seq=1
Authorization: Bearer {{token}}

### 1-3. 플레이어 그룹 목록 조회 (검색)
GET {{baseUrl}}/player-groups?search=본관
Authorization: Bearer {{token}}

### 1-4. 플레이어 그룹 상세 조회
GET {{baseUrl}}/player-groups/1
Authorization: Bearer {{token}}

### 1-5. 플레이어 그룹 등록
POST {{baseUrl}}/player-groups
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "group_name": "본관 1층 그룹",
  "group_code": "GROUP-001",
  "building_seq": 1,
  "group_description": "본관 1층 로비 및 복도 디스플레이",
  "member_player_seqs": [1, 2]
}

### 1-6. 플레이어 그룹 수정
PUT {{baseUrl}}/player-groups/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "group_name": "본관 1층 그룹 (수정)",
  "group_description": "수정된 설명",
  "group_order": 10
}

### 1-7. 플레이어 그룹 삭제 (소프트 삭제)
DELETE {{baseUrl}}/player-groups/1
Authorization: Bearer {{token}}


### ============================================================
### 2. 그룹 멤버 관리
### - POST /player-groups/:seq/members — 멤버 추가
### - DELETE /player-groups/:seq/members/:playerSeq — 멤버 삭제
### ============================================================

### 2-1. 그룹 멤버 추가
POST {{baseUrl}}/player-groups/1/members
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "player_seqs": [3, 4, 5]
}

### 2-2. 그룹 멤버 삭제
DELETE {{baseUrl}}/player-groups/1/members/3
Authorization: Bearer {{token}}


### ============================================================
### 3. 그룹 플레이리스트 할당
### - POST /player-groups/:seq/playlists — 할당
### - PUT /player-groups/:seq/playlists/:gpSeq — 수정
### - DELETE /player-groups/:seq/playlists/:gpSeq — 해제
### ============================================================

### 3-1. 그룹에 플레이리스트 할당
POST {{baseUrl}}/player-groups/1/playlists
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "playlist_seq": 1,
  "gp_priority": 15,
  "schedule_start_time": "09:00:00",
  "schedule_end_time": "18:00:00",
  "schedule_days": "1,2,3,4,5",
  "gp_status": "ACTIVE"
}

### 3-2. 그룹 플레이리스트 할당 수정
PUT {{baseUrl}}/player-groups/1/playlists/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "gp_priority": 25,
  "schedule_days": "1,2,3,4,5,6,7",
  "gp_status": "ACTIVE"
}

### 3-3. 그룹 플레이리스트 할당 해제
DELETE {{baseUrl}}/player-groups/1/playlists/1
Authorization: Bearer {{token}}
